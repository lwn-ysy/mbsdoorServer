(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-558489a8"],{"14ed":function(t,e,o){},5054:function(t,e,o){"use strict";o("88f3")},"88f3":function(t,e,o){},"8b11":function(t,e,o){},9406:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"container"}},[o("div",{staticClass:"left"},[o("div",{staticClass:"tag"},[o("input",{ref:"fileInput",attrs:{id:"file",type:"file"},on:{change:t.readFile}}),o("Poptip",{attrs:{trigger:"hover",content:"导入组件json数据",placement:"top-start"}},[o("Tag",{attrs:{color:"default"},nativeOn:{click:function(e){return t.importCom(e)}}},[t._v("导入")])],1),o("Poptip",{attrs:{trigger:"hover",content:"导出流程json数据",placement:"top-start"}},[o("Tag",{attrs:{color:"default"},nativeOn:{click:function(e){return t.exportJSON(e)}}},[t._v("导出")])],1)],1),o("div",{staticClass:"components-wrapper"},[o("Collapse",{model:{value:t.collapseValue,callback:function(e){t.collapseValue=e},expression:"collapseValue"}},[o("Panel",{attrs:{name:"startend"}},[t._v(" 开始结束类 "),o("div",{staticClass:"component-item",attrs:{slot:"content"},slot:"content"},[o("Tag",{attrs:{color:"default"},nativeOn:{click:function(e){return t.add("start")}}},[t._v("开始")]),o("Tag",{attrs:{color:"default"},nativeOn:{click:function(e){return t.add("end")}}},[t._v("结束")])],1)]),o("Panel",{attrs:{name:"other"}},[t._v(" 操作类 "),o("div",{staticClass:"component-item",attrs:{slot:"content"},slot:"content"},[o("Tag",{attrs:{color:"default"},nativeOn:{click:function(e){return t.add("browser_open")}}},[t._v("打开浏览器")]),o("Tag",{attrs:{color:"default"},nativeOn:{click:function(e){return t.add("browser_max")}}},[t._v("最大化窗口")])],1)])],1)],1)]),o("butterfly-vue",{attrs:{"canvas-data":t.graphData,"canvas-conf":t.defaultOptions}}),o("div",{staticClass:"right"},[o("div",{staticClass:"commonSet"},[o("Collapse",{model:{value:t.commonValue,callback:function(e){t.commonValue=e},expression:"commonValue"}},[o("Panel",{attrs:{name:"common"}},[t._v(" 通用属性 "),o("div",{attrs:{slot:"content"},slot:"content"},[o("Form",{attrs:{model:t.commonForm,"label-width":80}},[o("FormItem",{attrs:{label:"width"}},[o("Input",{on:{"on-blur":function(e){return t.changeCommon("width")}},model:{value:t.commonForm.width,callback:function(e){t.$set(t.commonForm,"width",e)},expression:"commonForm.width"}})],1),o("FormItem",{attrs:{label:"height"}},[o("Input",{on:{"on-blur":function(e){return t.changeCommon("height")}},model:{value:t.commonForm.height,callback:function(e){t.$set(t.commonForm,"height",e)},expression:"commonForm.height"}})],1),o("FormItem",{attrs:{label:"title"}},[o("Input",{on:{"on-blur":function(e){return t.changeCommon("title")}},model:{value:t.commonForm.title,callback:function(e){t.$set(t.commonForm,"title",e)},expression:"commonForm.title"}})],1)],1)],1)]),t.rightData.target?o("Panel",{attrs:{name:"target"}},[t._v(" 目标属性 "),o("div",{attrs:{slot:"content"},slot:"content"},[o("Form",{attrs:{model:t.targetForm,"label-width":80}},t._l(t.rightData.target,(function(e,i){return o("FormItem",{key:e.id,attrs:{label:e.key}},[o("Input",{on:{"on-blur":function(o){return t.changeTarget(i,e.key)}},model:{value:t.targetForm[e.key],callback:function(o){t.$set(t.targetForm,e.key,o)},expression:"targetForm[item.key]"}})],1)})),1)],1)]):t._e(),t.rightData.window?o("Panel",{attrs:{name:"window"}},[t._v(" 窗口属性 "),o("p",{attrs:{slot:"content"},slot:"content"},[t._v("test")])]):t._e(),t.rightData.input?o("Panel",{attrs:{name:"input"}},[t._v(" 输入属性 "),o("div",{attrs:{slot:"content"},slot:"content"},[o("Form",{attrs:{model:t.targetForm,"label-width":80}},t._l(t.rightData.input,(function(e,i){return o("FormItem",{key:e.id,attrs:{label:e.key}},[o("Input",{on:{"on-blur":function(o){return t.changeInput(i,e.key)}},model:{value:t.inputForm[e.key],callback:function(o){t.$set(t.inputForm,e.key,o)},expression:"inputForm[item.key]"}})],1)})),1)],1)]):t._e()],1)],1)])],1)},n=[],a=o("5530"),r=(o("d81d"),o("4de4"),o("b0c0"),o("d3b7"),o("25f0"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"start",style:{width:t.itemData.width+"px",height:t.itemData.height+"px"},on:{click:t.hanldeClick,"keyup.":t.removeNode}},[o("Icon",{attrs:{type:t.itemData.iconType,size:"20",color:"#6390e6"}}),o("div",{staticClass:"title"},[t._v(t._s(t.itemData.title))])],1)}),s=[],l={name:"TestRender",props:{itemData:{type:Object},canvasNode:{type:Object}},computed:{},created:function(){},methods:{hanldeClick:function(){this.$bus.$emit("test",this.itemData.id)},removeNode:function(){console.log("删除")}}},c=l,p=(o("c0ff"),o("2877")),u=Object(p["a"])(c,r,s,!1,null,"beb35900",null),d=u.exports,m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"action",style:{width:t.itemData.width+"px"},on:{click:t.hanldeClick}},[o("li",{staticClass:"header"},[o("butterfly-vue-endpoint",{staticClass:"endpoint-left",attrs:{id:t.itemData.id+"lf"}}),o("butterfly-vue-endpoint",{staticClass:"endpoint-right",attrs:{id:t.itemData.id+"rg"}}),o("Icon",{attrs:{type:t.itemData.iconType,size:"20",color:"#6390e6"}}),o("div",{staticClass:"title"},[t._v(t._s(t.itemData.title))])],1),o("li",{staticClass:"return"},[o("span",[t._v(t._s(t.itemData.response.value||""))]),o("span",[t._v(t._s(t.itemData.response.tip))])]),t._l(t.requireTarget,(function(e,i){return o("li",{key:i,staticClass:"sr-item"},[o("butterfly-vue-endpoint",{staticClass:"item-endpoint-left",attrs:{id:e.id+"tg"}}),!0===e.require?o("div",{staticClass:"prop"},[t._v(t._s(e.key))]):t._e()],1)})),0!==t.ortherTarget.length?o("li",{staticClass:"target"},[o("Collapse",{model:{value:t.collapseTarget,callback:function(e){t.collapseTarget=e},expression:"collapseTarget"}},[o("Panel",{attrs:{name:"0"}},[t._v(" 目标属性 "),t._l(t.ortherTarget,(function(e,i){return o("div",{key:i,staticClass:"endpoint-wrapper",attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(e.key)+" "),o("butterfly-vue-endpoint",{staticClass:"item-endpoint-left",attrs:{id:e.id+"tg"}})],1)}))],2)],1)],1):t._e(),t.itemData.window?o("li",{staticClass:"target"},[o("Collapse",{model:{value:t.collapseWindow,callback:function(e){t.collapseWindow=e},expression:"collapseWindow"}},[o("Panel",{attrs:{name:"0"}},[t._v(" 窗口属性 "),t._l(t.itemData.window,(function(e,i){return o("div",{key:i,staticClass:"endpoint-wrapper",attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(e.key)+" "),o("butterfly-vue-endpoint",{staticClass:"item-endpoint-left",attrs:{id:e.id+"wd"}})],1)}))],2)],1)],1):t._e(),t.itemData.input?o("li",{staticClass:"target"},[o("Collapse",{model:{value:t.collapseInput,callback:function(e){t.collapseInput=e},expression:"collapseInput"}},[o("Panel",{attrs:{name:"0"}},[t._v(" 输入属性 "),t._l(t.itemData.input,(function(e,i){return o("div",{key:i,staticClass:"endpoint-wrapper",attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(e.key)+" "),o("butterfly-vue-endpoint",{staticClass:"item-endpoint-left",attrs:{id:e.id+"wd"}})],1)}))],2)],1)],1):t._e()],2)},h=[],v=o("60de"),f={name:"TestRender",components:{ButterflyVueEndpoint:v["b"]},props:{itemData:{type:Object},canvasNode:{type:Object}},data:function(){return{collapseTarget:"",collapseWindow:"",collapseInput:""}},computed:{requireTarget:function(){if(!this.itemData.target)return[];var t=this.itemData.target.filter((function(t){return!0===t.require}));return t},ortherTarget:function(){if(!this.itemData.target)return[];var t=this.itemData.target.filter((function(t){return!t.require||!1===t.require}));return t}},created:function(){},methods:{hanldeClick:function(){this.$bus.$emit("test",this.itemData.id)}}},g=f,y=(o("d901"),o("e733"),Object(p["a"])(g,m,h,!1,null,"7b2cc883",null)),w=y.exports,k={nodes:[{id:"1",title:"开始",left:21,top:108,width:150,height:40,iconType:"ios-photos",response:{tip:"返回值",value:""},render:d,endpoints:[{id:"right",orientation:[1,0],pos:[0,.5]},{id:"bottom",orientation:[0,1],pos:[.5,0]},{id:"left",orientation:[-1,0],pos:[0,.5]}]},{id:"2",title:"打开浏览器",left:259,top:57,width:150,height:40,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,target:[{key:"浏览器类型",require:!0,value:""},{key:"网址",require:!0,value:""},{key:"路径",require:!0,value:"/test/index.js"},{key:"参数",require:!1,id:0,value:""},{key:"延迟",require:!1,id:1,value:""}]},{id:"3",title:"最大化窗口",left:481,top:89,width:150,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,window:[{key:"标题",id:0,value:""}]},{id:"4",title:"百度输入框",left:732,top:96,width:150,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,target:[{key:"文本",require:!0,id:0,value:""}]},{id:"5",title:"点击/百度一下按钮",left:970,top:90,width:150,iconType:"ios-photos",response:{tip:"坐标",value:""},render:w,window:[{key:"标题",id:0,value:""}],input:[{key:"按键类型",id:0,value:"左键"},{key:"按键次数",id:1,value:""},{key:"位置",id:2,value:""}]},{id:"6",title:"点击/百度百科",left:1010,top:388,width:150,iconType:"ios-photos",response:{tip:"坐标",value:""},render:w,window:[{key:"标题",id:0,value:""}],input:[{key:"按键类型",id:0,value:"左键"},{key:"按键次数",id:1,value:""},{key:"位置",id:2,value:""}]},{id:"7",title:"获取文本",left:777,top:408,width:150,iconType:"ios-photos",response:{tip:"返回值",value:"chinamobile_info"},render:w,common:[{prop:"chinamobile_info",value:""}]},{id:"8",title:"获取系统路径",left:561,top:404,width:150,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,common:[{prop:"desktop_path",value:""}]},{id:"9",title:"字符串合并",left:320,top:400,width:150,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,common:[{prop:"desktop_path",value:""}]},{id:"10",title:"文件/文件夹存在",left:51,top:400,width:200,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,common:[{prop:"docx_path",value:""}]},{id:"11",title:"打开/保存文档",left:50,top:702,width:150,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,common:[{prop:"保存类型",value:""},{prop:"路径",value:""}]},{id:"12",title:"写入文本",left:320,top:711,width:150,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,common:[{prop:"word对象",value:""},{prop:"写入内容",value:""}]},{id:"13",title:"打开/保存文档",left:600,top:717,width:150,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,common:[{prop:"保存类型",value:""},{prop:"路径",value:""}]},{id:"14",title:"关闭浏览器",left:830,top:720,width:150,height:40,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,common:[{prop:"浏览器对象",value:""}],target:[{key:"参数",id:0,value:""},{key:"延迟",id:1,value:""}]},{id:"15",title:"结束",left:1064,top:755,width:150,height:40,iconType:"ios-photos",response:{tip:"返回值",value:""},render:d}],edges:[]},b={disLinkable:!0,linkable:!0,draggable:!0,zoomable:!0,moveable:!0,theme:{edge:{arrow:!0,type:"endpoint",shapeType:"AdvancedBezier"}}},_=[{name:"start",title:"开始",left:0,top:0,iconType:"ios-photos",width:150,height:40,response:{tip:"返回值",value:""},render:d,endpoints:[{id:"right",orientation:[1,0],pos:[0,.5]},{id:"left",orientation:[-1,0],pos:[0,.5]}]},{name:"end",title:"结束",left:0,top:0,width:150,height:40,iconType:"ios-photos",response:{tip:"返回值",value:""},render:d,endpoints:[{id:"right",orientation:[1,0],pos:[0,.5]},{id:"left",orientation:[-1,0],pos:[0,.5]}]},{name:"browser_open",title:"打开浏览器",left:0,top:0,width:150,height:40,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,target:[{key:"浏览器类型",require:!0,value:""},{key:"网址",require:!0,value:""},{key:"路径",require:!0,value:"/test/index.js"},{key:"参数",require:!1,id:0,value:""},{key:"延迟",require:!1,id:1,value:""}]},{name:"browser_max",title:"最大化窗口",left:0,top:0,width:150,iconType:"ios-photos",response:{tip:"返回值",value:""},render:w,window:[{key:"标题",id:0,value:""}]}],D=k,F=o("21a6"),T={name:"Dashboard",components:{ButterflyVue:v["a"]},data:function(){return{graphData:D,defaultOptions:b,rightData:{},commonValue:["common","target","window","input"],activityID:"",collapseValue:"startend",commonForm:{width:"",height:"",title:""},targetForm:{}}},mounted:function(){this.$bus.$on("test",this.testMethod)},methods:{testMethod:function(t){var e,o=this;console.log("接收到了",t),this.activityID=t,this.graphData.nodes.some((function(i){if(i.id===t)return o.rightData=i,e=i,!0})),this.commonForm.width=this.rightData.width,this.commonForm.title=this.rightData.title,this.commonForm.height=this.rightData.height,this.targetForm={},e.target&&e.target.map((function(t){o.targetForm[t.key]=t.value})),this.inputForm={},e.input&&e.input.map((function(t){o.inputForm[t.key]=t.value}))},changeCommon:function(t){var e=this;this.activityID&&(console.log(this.commonForm[t]),this.graphData.nodes.some((function(o){if(o.id===e.activityID)return o[t]=e.commonForm[t],!0})))},changeTarget:function(t,e){var o=this;this.graphData.nodes.some((function(i){if(i.id===o.activityID)return i.target[t].value=o.targetForm[e],!0}))},changeInput:function(t,e){var o=this;this.graphData.nodes.some((function(i){if(i.id===o.activityID)return i.input[t].value=o.inputForm[e],!0}))},add:function(t){console.log("name",t);var e=_.filter((function(e){return e.name===t}))[0];console.log("newdata",e),e.id=Date.now().toString(),console.log("id",e.id),this.graphData.nodes.push(Object(a["a"])({},e)),console.log("grap",this.graphData)},exportJSON:function(){console.log("导出JSON数据：",this.graphData);var t=this.graphData;t=JSON.stringify(t);var e=new Blob([t],{type:"text/plain;charset=utf-8"});Object(F["saveAs"])(e,"save.json")},readFile:function(){var t=this.$refs.fileInput.files[0];if(console.log("文件",t),"application/json"===t.type){var e=new FileReader;e.readAsText(t),e.onload=function(){console.log("读取结果：",this.result);var t=JSON.parse(this.result);console.log("读取结果转为JSON："),console.log(t.name),console.log(t.age)}}else this.$Message.warning("只能是json格式文件")}}},C=T,I=(o("af54"),o("5054"),Object(p["a"])(C,i,n,!1,null,null,null));e["default"]=I.exports},"9c14":function(t,e,o){},af54:function(t,e,o){"use strict";o("8b11")},c0ff:function(t,e,o){"use strict";o("14ed")},d901:function(t,e,o){"use strict";o("e69c")},e69c:function(t,e,o){},e733:function(t,e,o){"use strict";o("9c14")}}]);