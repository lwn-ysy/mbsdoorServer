(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a265e28"],{"03f2":function(e,t,a){"use strict";a("f969")},"2c66":function(e,t,a){"use strict";a("a096")},"2e3a":function(e,t,a){},"485d":function(e,t,a){"use strict";a("2e3a")},5054:function(e,t,a){"use strict";a("88f3")},"6a03":function(e,t,a){"use strict";a("bc10")},"74d1":function(e,t,a){"use strict";a("c6a8")},"88f3":function(e,t,a){},9406:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"left"},[a("div",{staticClass:"tag"},[a("div",{staticClass:"file-wrapper"},[a("input",{ref:"fileInput",staticClass:"fileInput",attrs:{id:"file",type:"file",accept:"application/json"},on:{change:e.readFile}})]),a("Tag",{attrs:{color:"default",size:"medium"},nativeOn:{click:function(t){return e.fileInput(t)}}},[e._v("导入")]),a("Tag",{attrs:{color:"default",size:"medium"},nativeOn:{click:function(t){return e.exportJSON(t)}}},[e._v("导出")])],1),a("div",{staticClass:"components-wrapper"},[a("Collapse",{model:{value:e.collapseValue,callback:function(t){e.collapseValue=t},expression:"collapseValue"}},[a("Panel",{attrs:{name:"startend"}},[e._v(" 开始结束类 "),a("div",{staticClass:"component-item",attrs:{slot:"content"},slot:"content"},[a("draggable",{attrs:{"data-id":"12",chosenClass:"chosen",forceFallback:"true",sort:!1,group:"components",animation:"1000"},on:{unchoose:e.handleDrop,start:e.onStart},model:{value:e.componentsLists.start,callback:function(t){e.$set(e.componentsLists,"start",t)},expression:"componentsLists.start"}},[a("transition-group",e._l(e.componentsLists.start,(function(t){return a("div",{key:t.id,staticClass:"drag-item"},[e._v(" "+e._s(t.name)+" ")])})),0)],1)],1)]),a("Panel",{attrs:{name:"browser"}},[e._v(" 浏览器类 "),a("div",{staticClass:"component-item",attrs:{slot:"content"},slot:"content"},[a("draggable",{attrs:{chosenClass:"chosen",forceFallback:"true",sort:!1,group:"components",animation:"1000"},on:{unchoose:e.handleDrop,start:e.onStart},model:{value:e.componentsLists.browser,callback:function(t){e.$set(e.componentsLists,"browser",t)},expression:"componentsLists.browser"}},[a("transition-group",e._l(e.componentsLists.browser,(function(t){return a("div",{key:t.id,staticClass:"drag-item"},[e._v(" "+e._s(t.name)+" ")])})),0)],1)],1)]),a("Panel",{attrs:{name:"judge"}},[e._v(" 判断类 "),a("div",{staticClass:"component-item",attrs:{slot:"content"},slot:"content"},[a("draggable",{attrs:{chosenClass:"chosen",forceFallback:"true",sort:!1,group:"components",animation:"1000"},on:{unchoose:e.handleDrop,start:e.onStart},model:{value:e.componentsLists.judge,callback:function(t){e.$set(e.componentsLists,"judge",t)},expression:"componentsLists.judge"}},[a("transition-group",e._l(e.componentsLists.judge,(function(t){return a("div",{key:t.id,staticClass:"drag-item"},[e._v(" "+e._s(t.name)+" ")])})),0)],1)],1)])],1)],1)]),a("butterfly-vue",{attrs:{"canvas-data":e.graphData,"canvas-conf":e.defaultOptions}}),"{}"!=JSON.stringify(e.rightData)?a("div",{staticClass:"right"},[a("div",{staticClass:"commonSet"},[a("Collapse",{model:{value:e.collapseRightValue,callback:function(t){e.collapseRightValue=t},expression:"collapseRightValue"}},e._l(e.rightData.properties,(function(t,i){return a("Panel",{key:t.type,attrs:{name:"base_params"}},[e._v(" "+e._s(t.name)+" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("Form",{attrs:{model:e.baseParams,"label-width":120}},e._l(t.params,(function(t,n){return a("FormItem",{key:t.id,attrs:{label:t.name}},[e.inputType.includes(t["show_type"])?[a("Input",{on:{"on-blur":function(a){return e.inputChange(i,n,t.id)}},model:{value:e.baseParams[t.id],callback:function(a){e.$set(e.baseParams,t.id,a)},expression:"baseParams[i.id]"}})]:e._e(),e.selectType.includes(t["show_type"])?[a("Select",{model:{value:e.baseParams[t.id],callback:function(a){e.$set(e.baseParams,t.id,a)},expression:"baseParams[i.id]"}},e._l(t.options,(function(s){return a("Option",{key:s.label,attrs:{value:s.value,"on-change":e.inputChange(i,n,t.id)}},[e._v(e._s(s.label))])})),1)]:e._e()],2)})),1)],1)])})),1)],1)]):e._e()],1)},n=[],s=a("2909"),r=a("5530"),o=(a("d81d"),a("c740"),a("a434"),a("4de4"),a("99af"),a("d3b7"),a("25f0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"start",staticClass:"start endpoint-wrapper",attrs:{tabindex:"0"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.handleDelete(t)},click:e.hanldeClick}},[a("butterfly-vue-endpoint",{staticClass:"header-endpoint-lf",attrs:{id:e.isOldNode?e.itemData.endpoint[0]:e.endpoint[0]}}),a("butterfly-vue-endpoint",{staticClass:"header-endpoint-rt",attrs:{id:e.isOldNode?e.itemData.endpoint[1]:e.endpoint[1]}}),a("Icon",{attrs:{type:"md-albums",size:"20",color:"#6390e6"}}),a("div",{staticClass:"title"},[e._v(e._s(e.itemData.name))])],1)}),l=[],p=a("60de"),u=a("e1bd"),d={name:"start",components:{ButterflyVueEndpoint:p["b"]},props:{itemData:{type:Object},canvasNode:{type:Object}},data:function(){return{endpoint:[]}},computed:{isOldNode:function(){return!!this.itemData.export}},created:function(){if(this.isOldNode)this.endpoint=this.itemData.endpoint;else{var e,t=(null===(e=this.itemData.properties)||void 0===e?void 0:e.filter((function(e){return"input_params"===e.type}))[0].params.length)||0;while(t+2>0)t--,this.endpoint.push(Object(u["a"])(10))}},mounted:function(){this.isOldNode||this.$bus.$emit("getEndpoint",this.itemData.id,this.endpoint)},methods:{hanldeClick:function(){this.$bus.$emit("getActivityID",this.itemData.id),this.$refs.start.focus()},handleDelete:function(){this.$bus.$emit("dispathDelete",this.itemData.id)}}},c=d,m=(a("03f2"),a("2877")),h=Object(m["a"])(c,o,l,!1,null,"0ed716f0",null),_=h.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"action",attrs:{tabindex:"0"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.handleDelete(t)},click:e.hanldeClick}},[a("ul",{staticClass:"action"},[a("li",{staticClass:"header endpoint-wrapper"},[a("butterfly-vue-endpoint",{staticClass:"header-endpoint-lf",attrs:{id:e.isOldNode?e.itemData.endpoint[0]:e.endpoint[0]}}),a("butterfly-vue-endpoint",{staticClass:"header-endpoint-rt",attrs:{id:e.isOldNode?e.itemData.endpoint[1]:e.endpoint[1]}}),a("Icon",{attrs:{type:"md-bookmarks",size:"20",color:"#6390e6"}}),a("div",{staticClass:"title"},[e._v(e._s(e.itemData.name))])],1),a("li",{staticClass:"return endpoint-wrapper"},[a("butterfly-vue-endpoint",{staticClass:"endpoint-return-rt",attrs:{id:e.isOldNode?e.itemData.endpoint[2]:e.endpoint[2]}}),a("span",[e._v("返回值")])],1),e._l(e.input_params_require,(function(t,i){return a("li",{key:i,staticClass:"sr-item endpoint-wrapper"},[a("butterfly-vue-endpoint",{staticClass:"input-endpoint-lt",attrs:{id:e.isOldNode?e.itemData.endpoint[3+i]:e.endpoint[3+i]}}),a("div",{staticClass:"prop"},[e._v(e._s(t.name))])],1)})),0!==e.input_params_norequire.length?a("li",{staticClass:"target"},[a("Collapse",{model:{value:e.collapseTarget,callback:function(t){e.collapseTarget=t},expression:"collapseTarget"}},[a("Panel",{attrs:{name:"0"}},[e._v(" 输入 "),e._l(e.input_params_norequire,(function(t,i){return a("div",{key:i,staticClass:"hide-wrapper endpoint-wrapper",attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(t.name)+" "),a("butterfly-vue-endpoint",{staticClass:"input-endpoint-lt",attrs:{id:e.isOldNode?e.itemData.endpoint[3+e.input_params_require.length+i]:e.endpoint[3+e.input_params_require.length+i]}})],1)}))],2)],1)],1):e._e()],2)])},f=[],g={name:"BrowserOpen",components:{ButterflyVueEndpoint:p["b"]},props:{itemData:{type:Object},canvasNode:{type:Object}},data:function(){return{collapseTarget:"",collapseWindow:"",collapseInput:"",testTwice:"",endpoint:[]}},computed:{isOldNode:function(){return!!this.itemData.export},input_params_require:function(){var e,t,a=(null===(e=this.itemData.properties)||void 0===e||null===(t=e.filter((function(e){return"input_params"===e.type}))[0])||void 0===t?void 0:t.params)||[];return a=a.filter((function(e){return!0===e.required})),a},input_params_norequire:function(){var e,t,a=(null===(e=this.itemData.properties)||void 0===e||null===(t=e.filter((function(e){return"input_params"===e.type}))[0])||void 0===t?void 0:t.params)||[];return a=a.filter((function(e){return!1===e.required})),a}},created:function(){if(console.log("是否旧的节点组件",this.isOldNode),this.isOldNode)this.endpoint=this.itemData.endpoint;else{var e,t=(null===(e=this.itemData.properties)||void 0===e?void 0:e.filter((function(e){return"input_params"===e.type}))[0].params.length)||0;while(t+3>0)t--,this.endpoint.push(Object(u["a"])(10))}},mounted:function(){this.isOldNode||this.$bus.$emit("getEndpoint",this.itemData.id,this.endpoint)},methods:{hanldeClick:function(){this.$bus.$emit("getActivityID",this.itemData.id),this.$refs.action.focus()},handleDelete:function(){this.$bus.$emit("dispathDelete",this.itemData.id)}}},y=g,b=(a("6a03"),a("e733"),Object(m["a"])(y,v,f,!1,null,"24c308a2",null)),w=b.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"judge",attrs:{tabindex:"0"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.handleDelete(t)},click:e.hanldeClick}},[a("ul",{staticClass:"judge"},[a("li",{staticClass:"header endpoint-wrapper"},[a("butterfly-vue-endpoint",{staticClass:"header-endpoint-lf",attrs:{id:e.isOldNode?e.itemData.endpoint[0]:e.endpoint[0]}}),a("butterfly-vue-endpoint",{staticClass:"header-endpoint-rt",attrs:{id:e.isOldNode?e.itemData.endpoint[1]:e.endpoint[1]}}),a("Icon",{attrs:{type:"ios-jet",size:"20",color:"#6390e6"}}),a("div",{staticClass:"title"},[e._v(e._s(e.itemData.name))])],1),a("li",{staticClass:"return endpoint-wrapper"},[a("butterfly-vue-endpoint",{staticClass:"input-endpoint-lt",attrs:{id:e.isOldNode?e.itemData.endpoint[2]:e.endpoint[2]}}),a("span",[e._v("条件1")])],1),e._l(e.out_params_require,(function(t,i){return a("li",{key:i,staticClass:"sr-item endpoint-wrapper"},[a("butterfly-vue-endpoint",{staticClass:"judge-endpoint-rt",attrs:{id:e.isOldNode?e.itemData.endpoint[3+i]:e.endpoint[3+i]}}),a("div",{staticClass:"prop"},[e._v(e._s(t.name))])],1)})),0!==e.out_params_norequire.length?a("li",{staticClass:"target"},[a("Collapse",{model:{value:e.collapseTarget,callback:function(t){e.collapseTarget=t},expression:"collapseTarget"}},[a("Panel",{attrs:{name:"0"}},[e._v(" 输入 "),e._l(e.out_params_norequire,(function(t,i){return a("div",{key:i,staticClass:"hide-wrapper endpoint-wrapper",attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(t.name)+" "),a("butterfly-vue-endpoint",{staticClass:"input-endpoint-lt",attrs:{id:e.isOldNode?e.itemData.endpoint[3+e.out_params_require.length+i]:e.endpoint[3+e.out_params_require.length+i]}})],1)}))],2)],1)],1):e._e()],2)])},x=[],C={name:"BrowserOpen",components:{ButterflyVueEndpoint:p["b"]},props:{itemData:{type:Object},canvasNode:{type:Object}},data:function(){return{collapseTarget:"",collapseWindow:"",collapseInput:"",endpoint:[]}},computed:{isOldNode:function(){return!!this.itemData.export},out_params_require:function(){var e,t,a=(null===(e=this.itemData.properties)||void 0===e||null===(t=e.filter((function(e){return"out_params"===e.type}))[0])||void 0===t?void 0:t.params)||[];return a=a.filter((function(e){return!0===e.required})),a},out_params_norequire:function(){var e,t,a=(null===(e=this.itemData.properties)||void 0===e||null===(t=e.filter((function(e){return"out_params"===e.type}))[0])||void 0===t?void 0:t.params)||[];return a=a.filter((function(e){return!1===e.required})),a}},created:function(){if(this.isOldNode)this.endpoint=this.itemData.endpoint;else{var e,t=(null===(e=this.itemData.properties)||void 0===e?void 0:e.filter((function(e){return"input_params"===e.type}))[0].params.length)||0;while(t+3>0)t--,this.endpoint.push(Object(u["a"])(10))}},mounted:function(){this.isOldNode||this.$bus.$emit("getEndpoint",this.itemData.id,this.endpoint)},methods:{hanldeClick:function(){this.$bus.$emit("getActivityID",this.itemData.id),this.$refs.judge.focus()},handleDelete:function(){this.$bus.$emit("dispathDelete",this.itemData.id)}}},k=C,O=(a("74d1"),a("2c66"),Object(m["a"])(k,D,x,!1,null,"2a6e51c3",null)),q=O.exports,j={start:_,action:w,judge:q},T=[{id:"start",left:0,top:0,version:"v1",module:"BrowserOpen",name:"开始",description:"流程开始",language:"python",ui_type:"start",dependencies:{selenium:"3.141.0"},catalog:{level:2,category_id:"item_start_12312312"},render:_},{id:"end",left:0,top:0,version:"v1",module:"BrowserOpen",name:"结束",description:"流程结束",language:"python",ui_type:"start",dependencies:{selenium:"3.141.0"},catalog:{level:2,category_id:"item_end_12312312"},render:_},{id:"browser_open",left:0,top:0,version:"v1",module:"BrowserOpen",name:"打开浏览器",description:"打开浏览器组件",language:"python",ui_type:"action",dependencies:{selenium:"3.141.0"},catalog:{level:2,category_id:"item_start_12312312"},render:w,properties:[{type:"base_params",name:"基本",params:[{id:"show_name",name:"显示名称",show:!0,show_type:"text",value_type:"String",value:"打开浏览器",length:32,required:!0,tips:"打开浏览器转到对应的网址等"},{id:"continue_on_error",name:"错误执行",show:!0,show_type:"singleSelect",value_type:"bool",value:"False",options:[{label:"True",value:"True"},{label:"False",value:"False"}],required:!0,tips:"组件运行错误时，是否继续执行"}]},{type:"input_params",name:"输入",params:[{id:"browser_options",name:"浏览器参数",show:!0,show_type:"bigText",value_type:"String",value:"",length:256,required:!1,tips:"浏览器启动参数设置"},{id:"browser_type",name:"浏览器类型",show:!0,show_type:"singleSelect",value_type:"String",value:"IE",required:!0,options:[{label:"IE",value:"IE"},{label:"Chrome",value:"Chrome"}]},{id:"browser_path",name:"浏览器路径",show:!0,show_type:"bigText",value_type:"String",value:"",length:1024,required:!1,tips:"输入浏览器对应的版本驱动文件的路径"},{id:"open_url",name:"网址URL",show:!0,show_type:"bigText",value_type:"String",value:"",length:1024,required:!0,tips:"打开的网址地址"},{id:"over_time",name:"超时时间（毫秒）",show:!0,show_type:"text",value_type:"int",value:1e4,length:32,required:!0,tips:"超时时间（毫秒）"}]},{type:"out_params",name:"输出",params:[{id:"rpa_browser",name:"浏览器",show:!1,value_type:"object",required:!1,tips:"返回浏览器对象,流程内部使用"},{id:"load_time_variable",name:"响应时间（毫秒）",show:!0,show_type:"text",value_type:"variable",value:"",length:128,required:!1,tips:"可以获取打开浏览器的时间，并输出到一个已定义好的变量中"},{id:"browser_variable",name:"浏览器对象参数名称",show:!0,show_type:"text",value_type:"variable",value:"",length:128,required:!1,tips:"返回浏览器对象，并赋值给一个定义好的浏览器参数"}]}]},{id:"browser_maximize",version:"v1",module:"BrowserMaximize",name:"浏览器窗口最大化",description:"浏览器窗口最大化组件",language:"python",ui_type:"action",dependencies:{},render:w,properties:[{type:"base_params",name:"基本",params:[{id:"show_name",name:"显示名称",show:!0,show_type:"text",value_type:"String",value:"输入文本",length:32,required:!0,tips:"修改组件显示名称"},{id:"continue_on_error",name:"错误执行",show:!0,show_type:"singleSelect",value_type:"bool",value:"False",options:[{label:"True",value:"True"},{label:"False",value:"False"}],required:!0,tips:"组件运行错误时，是否继续执行"}]},{type:"input_params",name:"输入",params:[{id:"rpa_browser",name:"浏览器对象",show:!0,show_type:"text",value_type:"object",value:"rpa_browser",required:!0,tips:"需要从全局流程或者上一个流程获取的对象"}]}]},{id:"browser_input",version:"v1",module:"BrowserInputText",name:"浏览器输入文本",description:"浏览器输入文本组件",language:"python",ui_type:"action",dependencies:{},render:w,properties:[{type:"base_params",name:"基本",params:[{id:"show_name",name:"显示名称",show:!0,show_type:"text",value_type:"String",value:"输入文本",length:32,required:!0,tips:"修改组件显示名称"},{id:"continue_on_error",name:"错误执行",show:!0,show_type:"singleSelect",value_type:"bool",value:"False",options:[{label:"True",value:"True"},{label:"False",value:"False"}],required:!0,tips:"组件运行错误时，是否继续执行"}]},{type:"input_params",name:"输入",params:[{id:"rpa_browser",name:"浏览器对象",show:!0,show_type:"text",value_type:"object",value:"rpa_browser",required:!0,tips:"需要从全局流程或者上一个流程获取的对象"},{id:"element_xpath",name:"窗口指示器",show:!0,show_type:"uiText",value_type:"String",value:"",required:!0,tips:"用于在执行活动时查找特定UI元素的text属性"},{id:"content",name:"文本",show:!0,show_type:"bigText",value_type:"String",value:"",length:256,required:!0,tips:"输入文本到特定的元素中"}]},{type:"out_params",name:"输出",params:[]}]},{id:"browser_click_ele",version:"v1",module:"BrowserClickElement",name:"浏览器单击",description:"浏览器单击组件",language:"python",ui_type:"action",dependencies:{selenium:"3.141.0"},render:w,properties:[{type:"base_params",name:"基本",params:[{id:"show_name",name:"显示名称",show:!0,show_type:"text",value_type:"String",value:"浏览器单击",length:32,required:!0,tips:"单击浏览器中元素操作"},{id:"continue_on_error",name:"错误执行",show:!0,show_type:"singleSelect",value_type:"bool",value:"False",options:[{label:"True",value:"True"},{label:"False",value:"False"}],required:!0,tips:"组件运行错误时，是否继续执行"}]},{type:"input_params",name:"输入",params:[{id:"rpa_browser",name:"浏览器对象",show:!0,show_type:"text",value_type:"object",value:"rpa_browser",required:!0,tips:"需要从全局流程或者上一个流程获取的对象"},{id:"element_xpath",name:"窗口指示器",show:!0,show_type:"uiText",value_type:"String",value:"",required:!0,tips:"用于在执行活动时查找特定UI元素的text属性"},{id:"mouse_key",name:"鼠标类型",show:!0,show_type:"singleSelect",value_type:"String",value:"left",required:!0,options:[{label:"左",value:"left"},{label:"右",value:"right"}]},{id:"click_type",name:"点击类型",show:!0,show_type:"singleSelect",value_type:"String",value:"simple",required:!0,options:[{label:"单击",value:"simple"},{label:"双击",value:"double"}]}]},{type:"out_params",name:"输出",params:[]}]},{id:"browser_get_text",version:"v1",module:"BrowserGetText",name:"浏览器获取文本",description:"浏览器获取文本组件",language:"python",ui_type:"action",dependencies:{},render:w,properties:[{type:"base_params",name:"基本",params:[{id:"show_name",name:"显示名称",show:!0,show_type:"text",value_type:"String",value:"输入文本",length:32,required:!0,tips:"修改组件显示名称"},{id:"continue_on_error",name:"错误执行",show:!0,show_type:"singleSelect",value_type:"bool",value:"False",options:[{label:"True",value:"True"},{label:"False",value:"False"}],required:!0,tips:"组件运行错误时，是否继续执行"}]},{type:"input_params",name:"输入",params:[{id:"rpa_browser",name:"浏览器对象",show:!0,show_type:"text",value_type:"object",value:"rpa_browser",required:!0,tips:"需要从全局流程或者上一个流程获取的对象"},{id:"element_xpath",name:"窗口指示器",show:!0,show_type:"uiText",value_type:"String",value:"",required:!0,tips:"用于在执行活动时查找特定UI元素的text属性"}]},{type:"out_params",name:"输出",params:[{id:"result_text_name",name:"文本变量",show:!0,show_type:"text",value_type:"object",value:"",required:!0,tips:"获取到的文本赋值到指定的文本变量中"}]}]},{id:"judge_if",version:"v1",module:"judeg_if",name:"if分支",description:"if分支",language:"python",ui_type:"judge",dependencies:{},render:q,properties:[{type:"base_params",name:"基本",params:[{id:"show_name",name:"显示名称",show:!0,show_type:"text",value_type:"String",value:"输入文本",length:32,required:!0,tips:"修改组件显示名称"},{id:"continue_on_error",name:"错误执行",show:!0,show_type:"singleSelect",value_type:"bool",value:"False",options:[{label:"True",value:"True"},{label:"False",value:"False"}],required:!0,tips:"组件运行错误时，是否继续执行"}]},{type:"input_params",name:"输入",params:[{id:"rpa_browser",name:"浏览器对象",show:!0,show_type:"text",value_type:"object",value:"rpa_browser",required:!0,tips:"需要从全局流程或者上一个流程获取的对象"},{id:"element_xpath",name:"窗口指示器",show:!0,show_type:"uiText",value_type:"String",value:"",required:!0,tips:"用于在执行活动时查找特定UI元素的text属性"}]},{type:"out_params",name:"输出",params:[{id:"judge_if_true",name:"真",show:!0,show_type:"text",value_type:"object",value:"",required:!0,tips:"获取到的文本赋值到指定的文本变量中"},{id:"judge_if_fale",name:"假",show:!0,show_type:"text",value_type:"object",value:"",required:!0,tips:"获取到的文本赋值到指定的文本变量中"}]}]}],S={disLinkable:!0,linkable:!0,draggable:!0,zoomable:!0,moveable:!0,theme:{edge:{arrow:!0,type:"endpoint",shapeType:"AdvancedBezier"}}},$=a("b76a"),N=a.n($),I=a("21a6"),F={name:"Dashboard",components:{ButterflyVue:p["a"],draggable:N.a},data:function(){return{drag:!1,componentsLists:{start:[{name:"开始",id:"start"},{name:"结束",id:"end"},{name:"打开浏览器",id:"browser_open"},{name:"最大化窗口",id:"browser_maximize"},{name:"浏览器输入文本",id:"browser_input"},{name:"浏览器单击",id:"browser_click_ele"},{name:"浏览器获取文本",id:"browser_get_text"},{name:"if分支",id:"judge_if"}],browser:[],judge:[]},graphData:{nodes:[],edges:[],groups:[]},defaultOptions:S,rightData:{},collapseRightValue:["base_params","input_params","out_params"],activityID:"",inputType:["text","uiText","bigText"],selectType:["singleSelect"],collapseValue:"startend",baseParams:{}}},mounted:function(){this.$bus.$on("getActivityID",this.setActivityID),this.$bus.$on("dispathDelete",this.deleteNode),this.$bus.$on("getEndpoint",this.addEndpoint)},methods:{handleDrop:function(e){var t=e.oldIndex;console.log("index",t,e),this.addNode(this.componentsLists.start[t].id,e.originalEvent.pageX,e.originalEvent.pageY)},onStart:function(e){},setActivityID:function(e){var t=this;this.activityID=e,this.graphData.nodes.some((function(a){if(a.id===e)return t.rightData=Object(r["a"])({},a),Object(r["a"])({},a),!0})),this.rightData.properties&&this.rightData.properties.map((function(e){e.params.map((function(e){t.baseParams[e.id]=e.value||""}))}))},addEndpoint:function(e,t){this.graphData.nodes.some((function(a){if(a.id===e)return a.endpoint=Object(s["a"])(t),!0}))},inputChange:function(e,t,a){var i=this,n=this.activityID;this.graphData.nodes.some((function(s){if(s.id===n)return s.properties[e].params[t].value=i.baseParams[a],!0}))},deleteNode:function(e){var t,a=this.graphData.nodes.findIndex((function(t){return t.id===e}));this.graphData.nodes.splice(a,1);var i=this.graphData.edges.filter((function(t){return t.targetNode!==e&&t.sourceNode!==e})),n=this.graphData.edges.length;(t=this.graphData.edges).splice.apply(t,[0,n].concat(Object(s["a"])(i)))},addNode:function(e,t,a){var i={};if(T.map((function(t){t.id===e&&(i=Object(r["a"])({},t))})),!i)return this.$Message.warning("此组件不存在"),void console.log("参数错误，或者组件没有内置到前端源代码");i.id=i.id+Date.now().toString(),console.log("x",t,"y",a),i.left=t-160,i.top=a-50,this.graphData.nodes.push(i)},exportJSON:function(){var e=this.graphData;this.graphData.nodes.map((function(e){e.export=!0,delete e.render})),console.log("导出的数据",this.graphData),e=JSON.stringify(e);var t=new Blob([e],{type:"text/plain;charset=utf-8"});Object(I["saveAs"])(t,"save.json")},readFile:function(){var e=this.$refs.fileInput.files[0];if(e)if("application/json"===e.type){var t=new FileReader;t.readAsText(e);var a=this;t.onload=function(){var e=JSON.parse(this.result);e.nodes.map((function(e){e.render=j[e.ui_type]})),console.log("读取结果转为JSON：",e),a.graphData=e}}else this.$Message.warning("只能是json格式文件")},fileInput:function(){this.$refs.fileInput.click()}}},E=F,B=(a("485d"),a("5054"),Object(m["a"])(E,i,n,!1,null,"606e985c",null));t["default"]=B.exports},"9c14":function(e,t,a){},a096:function(e,t,a){},bc10:function(e,t,a){},c6a8:function(e,t,a){},e733:function(e,t,a){"use strict";a("9c14")},f969:function(e,t,a){}}]);